var formWork,main,returnMetaData;main=function(){var c=returnMetaData(this);this.reviseMetaData(c);this.appendToCSS(":root","{ --main-opacity: 1; }");this.pageMaker.formWork()};
formWork=function(){var c;var b=this;var m=document.querySelector("#page-upload-form");var h=document.querySelector("#page-name");var d=document.querySelector("#page-slug");b.fetchUploadStatusDiv=document.querySelector(".upload-status");d&&""===d.value&&h&&!h.classList.contains("name-input-keyup-listener")&&(h.classList.add("name-input-keyup-listener"),h.addEventListener("keyup",function(e){d.value=e.target.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9\-_\s]/g,"").toLowerCase().replace(/\s\s+/g,
" ").trim().replace(/\s/g,"-");d.value.match(/^\d/)&&(d.value="n"+d.value)}));m.classList.contains("page-upload-form-submit-listener")||(m.classList.add("page-upload-form-submit-listener"),m.addEventListener("submit",function(e){e.preventDefault();var a=new FormData(m);var f=a.get("page_name");var g=a.get("page_slug");e={method:"POST",body:a};b.logToConsole=!0;b.fetchUploadStatusDiv.innerHTML=b.tmbTT.active?b.DOMPurify.sanitize(""):"";b.fetchNoProblem=!0;var k=(h=document.querySelector("#page-name"))&&
h.dataset.existingPageNames?h.dataset.existingPageNames.split(" | ").map(function(l){return l}):[];var n=(d=document.querySelector("#page-slug"))&&d.dataset.existingPageSlugs?d.dataset.existingPageSlugs.split(" | ").map(function(l){return l}):[];if(k.includes(f)&&n.includes(g))return a="A page with this name ("+f+") already exists.\r\nA page with this URL ("+(g+") already exists.\r\n\r\n"),a+="Try another page name.\r\n",window.alert(a),!1;if(k.includes(f))return a="A page with this name ("+f+") already exists.\r\n\r\nExisting Name: "+
(f+"\r\nExisting URL: ")+(n[k.indexOf(f)]+"\r\n"),a+="\r\n",a+="Try another page name.",window.alert(a),!1;if(n.includes(g))return a="A page with this URL ("+g+") already exists.\r\n\r\n",a+="Existing Name: "+k[n.indexOf(g)]+"\r\n",a+="Existing URL: "+g+"\r\n",a+="\r\n",a+="Try another page name.",window.alert(a),!1;b.fetchProgressLine=document.querySelector(".progress-line");b.fetchProgressLine&&b.fetchProgressLine.classList.add("active");a.append("page_slug",g);a.append("page_name",f);k=c+"upload1.php";
a="Creating page and related files . . .";b.fetchAppendToUploadStatusDiv(a);b.consoleLog(a);fetch(k,e).then(b.fetchResponse).then(function(l){return b.fetchResolve(l,"",'Finished. Open <strong>DevTools</strong> and navigate to: <a class=internal-anchor href="'+b.baseHref+g+'/">'+f+"</a>")},b.fetchReject).then(function(){b.fetchProgressLine&&b.fetchProgressLine.classList.remove("active")})}));(function(e){c="localhost"===window.location.host?b.siteData.localhostUrl+e:b.siteData.liveSiteUrl+e})("/includes/forms/admin/page-maker/")};
returnMetaData=function(c){c="Page Maker of "+c.siteData.metaDescription;return{page:"dummy",name:{description:c,"twitter:card":"${DEFAULT}","twitter:creator":"${DEFAULT}","twitter:description":c,"twitter:site":"${DEFAULT}","twitter:title":"${TITLE}","twitter:url":"${CANONICAL}","twitter:image":"${DEFAULT}","twitter:image:alt":"${DEFAULT}"},property:{"og:description":c,"og:image":"${DEFAULT}","og:image:alt":"${DEFAULT}","og:image:height":"${DEFAULT}","og:image:width":"${DEFAULT}","og:image:secure_url":"${DEFAULT}",
"og:image:type":"${DEFAULT}","og:site_name":"${DEFAULT}","og:title":"${TITLE}","og:type":"${DEFAULT}","og:url":"${CANONICAL}"}}};export default Object.freeze({formWork, main, returnMetaData}); 
