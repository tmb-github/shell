var formWork,main,returnMetaData;main=function(){var c=returnMetaData(this);this.reviseMetaData(c);this.appendToCSS(":root","{ --main-opacity: 1; }");this.pageMaker.formWork()};
formWork=function(){var c;var b=this;var l=document.querySelector("#upload-form");var f=document.querySelector("#title-input");var e=document.querySelector("#slug-input");b.fetchUploadStatusDiv=document.querySelector(".upload-status");e&&""===e.value&&f&&!f.classList.contains("name-input-keyup-listener")&&(f.classList.add("name-input-keyup-listener"),f.addEventListener("keyup",function(d){e.value=d.target.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9\-_\s]/g,"").toLowerCase().replace(/\s\s+/g,
" ").trim().replace(/\s/g,"-");e.value.match(/^\d/)&&(e.value="n"+e.value)}));l.classList.contains("upload-form-submit-listener")||(l.classList.add("upload-form-submit-listener"),l.addEventListener("submit",function(d){d.preventDefault();var a=new FormData(l);var n=a.get("title");var p=a.get("slug");var q=(d=a.has("admin"))?"admin/":"";var r=d?"Admin: ":"";d={method:"POST",body:a};b.logToConsole=!0;b.fetchUploadStatusDiv.innerHTML=b.tmbTT.active?b.DOMPurify.sanitize(""):"";b.fetchNoProblem=!0;var g=
f&&f.dataset.existingTitles?f.dataset.existingTitles.split(" | ").map(function(k){return k}):[];var m=e&&e.dataset.existingSlugs?e.dataset.existingSlugs.split(" | ").map(function(k){return k}):[];a=r+n;var h=q+p;if(g.includes(a)&&m.includes(h))return a="A page with this title ("+a+") already exists.\r\nA page with this slug ("+(h+") already exists.\r\n\r\n"),a+="Try another page title.\r\n",window.alert(a),!1;if(g.includes(a))return a="A page with this title ("+a+") already exists.\r\n\r\nExisting title: "+
(a+"\r\nExisting slug: ")+(m[g.indexOf(a)]+"\r\n"),a+="\r\n",a+="Try another page title.",window.alert(a),!1;if(m.includes(h))return a="A page with this slug ("+h+") already exists.\r\n\r\n",a+="Existing title: "+g[m.indexOf(h)]+"\r\n",a+="Existing slug: "+h+"\r\n",a+="\r\n",a+="Try another page title.",window.alert(a),!1;b.fetchProgressLine=document.querySelector(".progress-line");b.fetchProgressLine&&b.fetchProgressLine.classList.add("active");g=c+"upload1.php";a="Creating page and related files . . .";
b.fetchAppendToUploadStatusDiv(a);b.consoleLog(a);fetch(g,d).then(b.fetchResponse).then(function(k){return b.fetchResolve(k,"",'Finished. Open : <a class=internal-anchor href="'+b.baseHref+q+p+'/">'+r+n+"</a>")},b.fetchReject).then(function(){b.fetchProgressLine&&b.fetchProgressLine.classList.remove("active")})}));(function(d){c="localhost"===window.location.host?b.siteData.localhostUrl+d:b.siteData.liveSiteUrl+d})("/includes/forms/admin/page-maker/")};
returnMetaData=function(c){c="Page Maker of "+c.siteData.metaDescription;return{page:"page-maker",name:{description:c,"twitter:card":"${DEFAULT}","twitter:creator":"${DEFAULT}","twitter:description":c,"twitter:site":"${DEFAULT}","twitter:title":"${TITLE}","twitter:url":"${CANONICAL}","twitter:image":"${DEFAULT}","twitter:image:alt":"${DEFAULT}"},property:{"og:description":c,"og:image":"${DEFAULT}","og:image:alt":"${DEFAULT}","og:image:height":"${DEFAULT}","og:image:width":"${DEFAULT}","og:image:secure_url":"${DEFAULT}",
"og:image:type":"${DEFAULT}","og:site_name":"${DEFAULT}","og:title":"${TITLE}","og:type":"${DEFAULT}","og:url":"${CANONICAL}"}}};export default Object.freeze({formWork, main, returnMetaData}); 
